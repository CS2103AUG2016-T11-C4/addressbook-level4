# A0147999Y

###### src/main/java/seedu/address/logic/parser/AddDeadlineParser.java

``` java
public class AddDeadlineParser implements Parser<AddDeadlineCommand> {

    private final Argument<Name> nameArg = new Argument<>("NAME", new NameParser());
    private final DateTimeArgument dateTimeArg = new DateTimeArgument("DATE", "TIME");

    private final CommandLineParser cmdParser = new CommandLineParser()
                                                    .addArgument(nameArg)
                                                    .addArgument(dateTimeArg);

    private final Optional<LocalDateTime> referenceDateTime;

    public AddDeadlineParser() {
        this(Optional.empty());
    }

    public AddDeadlineParser(LocalDateTime referenceDateTime) {
        this(Optional.of(referenceDateTime));
    }

    public AddDeadlineParser(Optional<LocalDateTime> referenceDateTime) {
        this.referenceDateTime = referenceDateTime;
    }

```
###### src/main/java/seedu/address/logic/parser/AddTaskParser.java

``` java
public class AddTaskParser implements Parser<AddTaskCommand> {

    private final OverloadParser<AddTaskCommand> overloadParser;

    public AddTaskParser() {
        this(Optional.empty());
    }

```
###### src/main/java/seedu/address/logic/parser/ClearFinishedParser.java

``` java
public class ClearFinishedParser implements Parser<ClearFinishedCommand> {

    private final CommandLineParser cmdParser = new CommandLineParser()
                                                .addArgument(ClearFinishedCommand.COMMAND_PARAMETER);

    private final Optional<LocalDateTime> referenceDateTime;

    public ClearFinishedParser(Optional<LocalDateTime> referenceDateTime) {
        this.referenceDateTime = referenceDateTime;
    }

    public ClearFinishedParser() {
        this(Optional.empty());
    }

    @Override
    public ClearFinishedCommand parse(String str) throws ParseException {
        cmdParser.parse(str);
        final LocalDateTime now = referenceDateTime.orElse(LocalDateTime.now());
        return new ClearFinishedCommand(now);
    }

}
```
###### src/main/java/seedu/address/logic/parser/ClearCommandParser.java

``` java
public class ClearCommandParser implements Parser<Command> {

    private final OverloadParser<Command> overloadParser;

    public ClearCommandParser(Optional<LocalDateTime> referenceDateTime) {
        overloadParser = new OverloadParser<Command>()
                         .addParser("Clear all the tasks in Task Tracker", new ClearAllParser())
                         .addParser("Clear all the finished tasks in Task Tracker", new ClearFinishedParser(referenceDateTime));
    }

    public ClearCommandParser() {
        this(Optional.empty());
    }

    @Override
    public Command parse(String str) throws ParseException {
        return overloadParser.parse(str);
    }
}
```
###### src/main/java/seedu/address/logic/parser/ClearAllParser.java

``` java
public class ClearAllParser implements Parser<ClearAllCommand> {

    private final CommandLineParser cmdParser = new CommandLineParser();

    @Override
    public ClearAllCommand parse(String str) throws ParseException {
        cmdParser.parse(str);
        return new ClearAllCommand();
    }

}
```
###### src/main/java/seedu/address/logic/parser/EditDeadlineParser.java

``` java
public class EditDeadlineParser implements Parser<EditDeadlineCommand> {

    private final Argument<Integer> indexArg = new Argument<>("INDEX", new IndexParser(TaskType.DEADLINE));
    private final OptionalFlag<LocalDate> newDateFlag = new OptionalFlag<>("dd-", "NEW_DUE_DATE",
            new DateParser().withAutocomplete(this::autocompleteDueDate));
    private final OptionalFlag<LocalTime> newTimeFlag = new OptionalFlag<>("dt-", "NEW_DUE_TIME",
            new TimeParser().withAutocomplete(this::autocompleteDueTime));
    private final OptionalFlag<Name> newNameFlag = new OptionalFlag<>("n-", "NEW_NAME",
            new NameParser().withAutocomplete(this::autocompleteName));
    private final CommandLineParser cmdParser = new CommandLineParser()
                                                        .addArgument(indexArg)
                                                        .putFlag(newDateFlag)
                                                        .putFlag(newTimeFlag)
                                                        .putFlag(newNameFlag);

    private final Optional<LocalDateTime> referenceDateTime;

    public EditDeadlineParser() {
        this(Optional.empty());
    }

    public EditDeadlineParser(LocalDateTime referenceDateTime) {
        this(Optional.of(referenceDateTime));
    }

    public EditDeadlineParser(Optional<LocalDateTime> referenceDateTime) {
        this.referenceDateTime = referenceDateTime;
    }

```
###### src/main/java/seedu/address/logic/commands/AddFloatingTaskCommand.java

``` java
    public AddFloatingTaskCommand(String name, String priority) throws IllegalValueException {
        this(new FloatingTask(new Name(name), new Priority(priority)));
    }

    @Override
    public FloatingTask getTask() {
        return floatingTask;
    }

    @Override
    public CommandResult execute(Model model) {
        assert model != null;
        model.addFloatingTask(floatingTask);
        return new CommandResult(String.format(MESSAGE_SUCCESS, floatingTask.getName(),
                                                                floatingTask.getPriority()));
    }

}
```
###### src/main/java/seedu/address/logic/commands/MarkDeadlineFinishedCommand.java

``` java
public class MarkDeadlineFinishedCommand implements Command {

    private static final String MSG_SUCCESS = "Deadline task "
                                              + TaskType.DEADLINE.getPrefixString()
                                              + "%s finished.";

    private final int targetIndex;

    public MarkDeadlineFinishedCommand(int targetIndex) {
        this.targetIndex = targetIndex;
    }

    @Override
    public CommandResult execute(Model model) throws CommandException {
        assert model != null;
        DeadlineTask oldDeadlineTask;
        try {
            oldDeadlineTask = model.getDeadlineTask(targetIndex);
        } catch (IllegalValueException e) {
            throw new CommandException(e);
        }

        DeadlineTask finishedDeadlineTask;
        finishedDeadlineTask = new DeadlineTask(oldDeadlineTask.getName(),
                                                oldDeadlineTask.getDue(),
                                                true);

        try {
            model.setDeadlineTask(targetIndex, finishedDeadlineTask);
        } catch (IllegalValueException e) {
            throw new AssertionError("The target deadline cannot be missing", e);
        }

        return new CommandResult(String.format(MSG_SUCCESS, targetIndex));

    }
}
```
###### src/main/java/seedu/address/logic/commands/EditFloatingTaskCommand.java

``` java
    public int getTargetIndex() {
        return targetIndex;
    }

```
###### src/main/java/seedu/address/logic/commands/EditFloatingTaskCommand.java

``` java
    @Override
    public CommandResult execute(Model model) throws CommandException {
        final FloatingTask oldFloatingTask;
        try {
            oldFloatingTask = model.getFloatingTask(targetIndex);
        } catch (IllegalValueException e) {
            throw new CommandException(e);
        }

        final FloatingTask newFloatingTask;

        newFloatingTask = new FloatingTask(
                newName.orElse(oldFloatingTask.getName()),
                newPriority.orElse(oldFloatingTask.getPriority()),
                oldFloatingTask.isFinished()
        );

        try {
            model.setFloatingTask(targetIndex, newFloatingTask);
        } catch (IllegalValueException e) {
            throw new AssertionError("The target floating task cannot be missing", e);
        }

        return new CommandResult(String.format(MESSAGE_EDIT_TASK_SUCCESS, targetIndex));
    }

}
```
###### src/main/java/seedu/address/logic/commands/MarkFloatingTaskFinishedCommand.java

``` java
public class MarkFloatingTaskFinishedCommand implements Command {

    private static final String MSG_SUCCESS = "Floating task "
                                              + TaskType.FLOAT.getPrefixString()
                                              + "%s finished.";

    private final int targetIndex;

    public MarkFloatingTaskFinishedCommand(int targetIndex) {
        this.targetIndex = targetIndex;
    }

    @Override
    public CommandResult execute(Model model) throws CommandException {
        assert model != null;
        FloatingTask oldFloatingTask;
        try {
            oldFloatingTask = model.getFloatingTask(targetIndex);
        } catch (IllegalValueException e) {
            throw new CommandException(e);
        }

        FloatingTask finishedFloatingTask;
        finishedFloatingTask = new FloatingTask(oldFloatingTask.getName(),
                                                oldFloatingTask.getPriority(),
                                                true);

        try {
            model.setFloatingTask(targetIndex, finishedFloatingTask);
        } catch (IllegalValueException e) {
            throw new AssertionError("The target floating task cannot be missing", e);
        }

        return new CommandResult(String.format(MSG_SUCCESS, targetIndex));

    }
}

```
###### src/main/java/seedu/address/logic/commands/DeleteDeadlineCommand.java

``` java
public class DeleteDeadlineCommand implements Command {

    public static final String COMMAND_WORD = "del-deadline";

    public static final String MESSAGE_USAGE = COMMAND_WORD
            + ": Deletes the deadline identified by the index number used in the filtered deadline listing.\n"
            + "Parameters: INDEX (must be a positive integer)\n"
            + "Example: " + COMMAND_WORD + " 1";

    public static final String MESSAGE_DELETE_TASK_SUCCESS = "Deleted deadline: %1$s";

    private final int targetIndex;

    public DeleteDeadlineCommand(int targetIndex) {
        this.targetIndex = targetIndex;
    }

    @Override
    public CommandResult execute(Model model) throws CommandException {
        try {
            final DeadlineTask deletedTask = model.removeDeadlineTask(targetIndex);
            return new CommandResult(String.format(MESSAGE_DELETE_TASK_SUCCESS, deletedTask));
        } catch (IllegalValueException e) {
            throw new CommandException(e);
        }
    }

}
```
###### src/main/java/seedu/address/logic/commands/ClearFinishedCommand.java

``` java
public class ClearFinishedCommand implements Command {

    public static final String COMMAND_PARAMETER = "fin";
    public static final String MESSAGE_SUCCESS = "All finished task in Task Tracker have been cleared!";

    private final TaskFinishedPredicate predicate;

    public ClearFinishedCommand(LocalDateTime now) {
        this.predicate = new TaskFinishedPredicate(now);
    }

    public ClearFinishedCommand() {
        this(LocalDateTime.now());
    }

    @Override
    public CommandResult execute(Model model) throws CommandException {
        assert model != null;
        model.removeFloatingTasks(predicate);
        model.removeDeadlineTasks(predicate);
        model.removeEventTasks(predicate);
        return new CommandResult(MESSAGE_SUCCESS);
    }

}
```
###### src/main/java/seedu/address/logic/commands/DeleteFloatingTaskCommand.java

``` java
public class DeleteFloatingTaskCommand implements Command {

    public static final String COMMAND_WORD = "del-float";

    public static final String MESSAGE_USAGE = COMMAND_WORD
            + ": Deletes the floating task identified by the index number used in the filtered floating task listing.\n"
            + "Parameters: INDEX (must be a positive integer)\n"
            + "Example: " + COMMAND_WORD + " 1";

    public static final String MESSAGE_DELETE_TASK_SUCCESS = "Deleted floating task: %1$s";

    public final int targetIndex;

    public DeleteFloatingTaskCommand(int targetIndex) {
        this.targetIndex = targetIndex;
    }

    @Override
    public CommandResult execute(Model model) throws CommandException {
        try {
            final FloatingTask deletedTask = model.removeFloatingTask(targetIndex);
            return new CommandResult(String.format(MESSAGE_DELETE_TASK_SUCCESS, deletedTask));
        } catch (IllegalValueException e) {
            throw new CommandException(e);
        }
    }

}
```
###### src/main/java/seedu/address/logic/commands/EditDeadlineCommand.java

``` java
public class EditDeadlineCommand implements Command {

    private static final String MESSAGE_EDIT_TASK_SUCCESS = "Edited deadline task "
                                                            + TaskType.DEADLINE.getPrefixString() + "%d.";

    private final int targetIndex;
    private final Optional<Name> newName;
    private final Optional<LocalDate> newDate;
    private final Optional<LocalTime> newTime;

    public EditDeadlineCommand(int targetIndex, Optional<Name> newName, Optional<LocalDate> newDate,
                               Optional<LocalTime> newTime) {
        this.targetIndex = targetIndex;
        this.newName = newName;
        this.newDate = newDate;
        this.newTime = newTime;
    }

    public int getTargetIndex() {
        return targetIndex;
    }

    public Optional<LocalDate> getNewDate() {
        return newDate;
    }

    public Optional<LocalTime> getNewTime() {
        return newTime;
    }

    @Override
    public CommandResult execute(Model model) throws CommandException {
        DeadlineTask oldDeadlineTask;
        try {
            oldDeadlineTask = model.getDeadlineTask(targetIndex);
        } catch (IllegalValueException e) {
            throw new CommandException(e);
        }

        DeadlineTask newDeadlineTask;
        newDeadlineTask = new DeadlineTask(
                newName.orElse(oldDeadlineTask.getName()),
                LocalDateTime.of(
                        newDate.orElse(oldDeadlineTask.getDue().toLocalDate()),
                        newTime.orElse(oldDeadlineTask.getDue().toLocalTime())
                ),
                oldDeadlineTask.isFinished()
        );

        try {
            model.setDeadlineTask(targetIndex, newDeadlineTask);
        } catch (IllegalValueException e) {
            throw new AssertionError("The target deadline cannot be missing", e);
        }

        return new CommandResult(String.format(MESSAGE_EDIT_TASK_SUCCESS, targetIndex));
    }

}
```
###### src/main/java/seedu/address/logic/commands/AddDeadlineCommand.java

``` java
    public AddDeadlineCommand(String name, LocalDateTime due) throws IllegalValueException {
        this(new DeadlineTask(name, due));
    }

    @Override
    public DeadlineTask getTask() {
        return deadlineTask;
    }

    @Override
    public CommandResult execute(Model model) {
        assert model != null;
        model.addDeadlineTask(deadlineTask);
        return new CommandResult(String.format(MESSAGE_SUCCESS, deadlineTask.getName(),
                                               StringUtil.localDateTimeToPrettyString(deadlineTask.getDue())));
    }

}
```
###### src/main/java/seedu/address/model/filter/TaskOverduePredicate.java

``` java
/**
 * A predicate that returns true if the {@link Task} is overdue.
 * <p><ul>
 * <li> Floating tasks are never overdue.
 * <li> Deadline tasks are overdue when {@link DeadlineTask#getDue()} is before the reference datetime.
 * <li> Event tasks are overdue when their end time is before the reference datetime.
 * </ul>
 */
public class TaskOverduePredicate implements TaskPredicate {
    private final LocalDateTime referenceDateTime;

    public TaskOverduePredicate(LocalDateTime referenceDateTime) {
        assert referenceDateTime != null;
        this.referenceDateTime = referenceDateTime;
    }

    @Override
    public boolean test(FloatingTask floatingTask) {
        return false;
    }

    @Override
    public boolean test(DeadlineTask deadlineTask) {
        return !deadlineTask.isFinished() && deadlineTask.getDue().isBefore(referenceDateTime);
    }

    @Override
    public boolean test(EventTask eventTask) {
        return eventTask.getEnd().isBefore(referenceDateTime);
    }

    @Override
    public String toHumanReadableString() {
        return "overdue tasks";
    }

    @Override
    public boolean equals(Object other) {
        return other == this
               || (other instanceof TaskOverduePredicate
               && referenceDateTime.equals(((TaskOverduePredicate)other).referenceDateTime));
    }

}
```
###### src/main/java/seedu/address/model/filter/TaskWillHappenTodayPredicate.java

``` java
/**
 * A predicate that returns true if the {@link Task} happens today/in the reference.
 * <p><ul>
 * <li> Floating tasks all happens today if {@link FloatingTask#isFinished()} returns false.
 * <li> Deadline tasks happens today when {@link DeadlineTask#getDue()} is in reference date
 *      and when {@link DeadlineTask#isFinished()} returns false.
 * <li> Event tasks happens today when their start/end time is before the end time of the reference date
 *      and after the reference datetime or the start time is before the reference datetime and the end
 *      time is after the reference datetime.
 * </ul>
 */
public class TaskWillHappenTodayPredicate implements TaskPredicate {
    private final LocalDateTime referenceDateTime;
    private final LocalDate today;
    private final LocalDate tomorrow;

    public TaskWillHappenTodayPredicate(LocalDateTime referenceDateTime) {
        assert referenceDateTime != null;
        this.referenceDateTime = referenceDateTime;
        this.today = this.referenceDateTime.toLocalDate();
        this.tomorrow = this.today.plusDays(1);
    }

    @Override
    public boolean test(FloatingTask floatingTask) {
        return !floatingTask.isFinished();
    }

    @Override
    public boolean test(DeadlineTask deadlineTask) {
        return deadlineTask.getDue().isAfter(today.atStartOfDay())
               && deadlineTask.getDue().isBefore(tomorrow.atStartOfDay())
               && !deadlineTask.isFinished();
    }

    @Override
    public boolean test(EventTask eventTask) {
        return eventTask.getEnd().isAfter(referenceDateTime)
                  && eventTask.getEnd().isBefore(tomorrow.atStartOfDay())
               || eventTask.getStart().isAfter(referenceDateTime)
                  && eventTask.getStart().isBefore(tomorrow.atStartOfDay())
               || eventTask.getEnd().isAfter(referenceDateTime)
                  && eventTask.getStart().isBefore(referenceDateTime);
    }

    @Override
    public String toHumanReadableString() {
        return "finished tasks today";
    }

    @Override
    public boolean equals(Object other) {
        return other == this
               || (other instanceof TaskWillHappenTodayPredicate
               && referenceDateTime.equals(((TaskWillHappenTodayPredicate)other).referenceDateTime));
    }

}
```
###### src/main/java/seedu/address/model/TaskBook.java

``` java
    @Override
    public ObservableList<FloatingTask> getFloatingTasks() {
        return FXCollections.unmodifiableObservableList(floatingTasks);
    }

    public void setFloatingTasks(Collection<FloatingTask> floatingTasks) {
        this.floatingTasks.setAll(floatingTasks);
    }

    public void addFloatingTask(FloatingTask floatingTask) {
        floatingTasks.add(floatingTask);
    }

    /**
     * Remove the FloatingTask at position `index` in the list. Return the removed FloatingTask.
     */
    public FloatingTask removeFloatingTask(int index) {
        return floatingTasks.remove(index);
    }

    public void setFloatingTask(int index, FloatingTask newFloatingTask) {
        floatingTasks.set(index, newFloatingTask);
    }

    //// deadline task operations

```
###### src/main/java/seedu/address/model/TaskBook.java

``` java
    public void setDeadlineTasks(Collection<DeadlineTask> deadlineTasks) {
        this.deadlineTasks.setAll(deadlineTasks);
    }

    public void addDeadlineTask(DeadlineTask deadlineTask) {
        deadlineTasks.add(deadlineTask);
    }

```
###### src/main/java/seedu/address/model/TaskBook.java

``` java
    public void setDeadlineTask(int index, DeadlineTask newDeadlineTask) {
        deadlineTasks.set(index, newDeadlineTask);
    }

    //// event task operations

```
###### src/main/java/seedu/address/model/task/DeadlineTask.java

``` java
public class DeadlineTask extends Task {

    private static final String FMT_STRING = "DeadlineTask[name=%s, due=%s, finished=%s]";

    private final LocalDateTime due;

    private final boolean finished;

    public DeadlineTask(Name name, LocalDateTime due, boolean finished) {
        super(name);
        assert due != null;
        this.due = due;
        this.finished = finished;
    }

    public DeadlineTask(Name name, LocalDateTime due) {
        this(name, due, false);
    }

    public DeadlineTask(String name, LocalDateTime due) throws IllegalValueException {
        this(new Name(name), due, false);
    }

    public LocalDateTime getDue() {
        return due;
    }

    public boolean isFinished() {
        return this.finished;
    }

    @Override
    public boolean equals(Object other) {
        return other == this
               || (other instanceof DeadlineTask
               && name.equals(((DeadlineTask)other).name)
               && due.equals(((DeadlineTask)other).due)
               && finished == ((DeadlineTask)other).finished);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, due, finished);
    }

    @Override
    public String toString() {
        return String.format(FMT_STRING, name, due, finished);
    }

}
```
###### src/main/java/seedu/address/model/task/Priority.java

``` java
public class Priority {

    public static final int UPPER_BOUND = 5;
    public static final int LOWER_BOUND = 0;

    public static final String MESSAGE_PRIORITY_CONSTRAINTS =
            "priority should be an integer ranges from " + LOWER_BOUND + " to " + UPPER_BOUND + ".";
    public static final String PRIORITY_VALIDATION_REGEX = "\\p{Digit}";

    private String priority;

    /**
     * Validates given priority.
     *
     * @throws IllegalValueException if given priority string is invalid.
     */
    public Priority (String priority) throws IllegalValueException {
        assert priority != null;
        priority = priority.trim();
        if (!isValidPriority(priority)) {
            throw new IllegalValueException(MESSAGE_PRIORITY_CONSTRAINTS);
        }
        this.priority = priority;
    }

    /**
     * Returns true if a given string is a valid priority.
     */
    public static boolean isValidPriority(String test) {
        if (test.matches(PRIORITY_VALIDATION_REGEX)) {
            return (Integer.parseInt(test) >= LOWER_BOUND)
                    && (Integer.parseInt(test) <= UPPER_BOUND);
        } else {
            return false;
        }
    }

    public int toInteger() {
        return Integer.parseInt(this.priority);
    }

    @Override
    public String toString() {
        return priority;
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof Priority // instanceof handles nulls
                && this.priority.equals(((Priority) other).priority)); // state check
    }

    @Override
    public int hashCode() {
        return priority.hashCode();
    }

}
```
###### src/main/java/seedu/address/model/task/FloatingTask.java

``` java
public class FloatingTask extends Task {

    private static final String FMT_STRING = "FloatingTask[name=%s, priority=%s, finished=%s]";

    private Priority priority;

    private final boolean finished;

    public FloatingTask(Name name, Priority priority, boolean finished) {
        super(name);
        assert priority != null;
        this.priority = priority;
        this.finished = finished;
    }

    public FloatingTask(Name name, Priority priority) {
        this(name, priority, false);
    }

    public FloatingTask(String name, Priority priority) throws IllegalValueException {
        this(new Name(name), priority, false);
    }

    public FloatingTask(String name) throws IllegalValueException {
        this(new Name(name), new Priority("0"), false);
    }

    public Priority getPriority() {
        return this.priority;
    }

    public boolean isFinished() {
        return this.finished;
    }

    @Override
    public boolean equals(Object other) {
        return other == this
            || (other instanceof FloatingTask
            && name.equals(((FloatingTask)other).name)
            && priority.equals(((FloatingTask)other).priority)
            && finished == ((FloatingTask)other).finished);
    }

    @Override
    public int hashCode() {
        return Objects.hash(name, priority, finished);
    }

    @Override
    public String toString() {
        return String.format(FMT_STRING, name, priority, finished);
    }
}
```
###### src/main/java/seedu/address/model/ModelManager.java

``` java
    @Override
    public synchronized void removeFloatingTasks(TaskPredicate predicate) {
        workingTaskBook.removeFloatingTasks(predicate);
    }

```
###### src/main/java/seedu/address/model/ModelManager.java

``` java
    @Override
    public synchronized void removeDeadlineTasks(TaskPredicate predicate) {
        workingTaskBook.removeDeadlineTasks(predicate);
    }

```
###### src/main/java/seedu/address/model/ModelManager.java

``` java
    @Override
    public synchronized void removeEventTasks(TaskPredicate predicate) {
        workingTaskBook.removeEventTasks(predicate);
    }

```
###### src/main/java/seedu/address/model/Model.java

``` java
    /** Removes the all Floating tasks satisfy the given predicate. */
    void removeFloatingTasks(TaskPredicate taskPredicate);

```
###### src/main/java/seedu/address/model/Model.java

``` java
    /** Removes the all Deadline tasks satisfy the given predicate. */
    void removeDeadlineTasks(TaskPredicate taskPredicate);

```
###### src/main/java/seedu/address/model/Model.java

``` java
    /** Removes the all Event tasks satisfy the given predicate. */
    void removeEventTasks(TaskPredicate taskPredicate);

```
###### src/main/java/seedu/address/model/WorkingTaskBook.java

``` java
    /**
     * Remove all the floating tasks that satisfy the given predicate.
     * @param predicate The filter used to judge whether a floating task needs to be deleted or not.
     * @throws IllegalValueException Will be throw during iteration if internal error happens.
     */
    public void removeFloatingTasks(TaskPredicate predicate) {
        int iterator = 1;
        while (iterator < workingFloatingTasks.size()) {
            FloatingTask toBeTested;
            try {
                toBeTested = workingFloatingTasks.get(iterator);
                if (predicate.test(toBeTested)) {
                    removeFloatingTask(iterator);
                }
            } catch (IllegalValueException e) {
                ; // skip this index if this item is already deleted
            }
            iterator = iterator + 1;
        }
    }

```
###### src/main/java/seedu/address/model/WorkingTaskBook.java

``` java
    /**
     * Remove all the deadline tasks that satisfy the given predicate.
     * @param predicate The filter used to judge whether a deadline task needs to be deleted or not.
     * @throws IllegalValueException Will be throw during iteration if internal error happens.
     */
    public void removeDeadlineTasks(TaskPredicate predicate) {
        int iterator = 1;
        while (iterator < workingDeadlineTasks.size()) {
            DeadlineTask toBeTested;
            try {
                toBeTested = workingDeadlineTasks.get(iterator);
                if (predicate.test(toBeTested)) {
                    removeDeadlineTask(iterator);
                }
            } catch (IllegalValueException e) {
                ; // skip this index if this item is already deleted
            }
            iterator = iterator + 1;
        }
    }

```
###### src/main/java/seedu/address/model/WorkingTaskBook.java

``` java
    /**
     * Remove all the events tasks that satisfy the given predicate.
     * @param predicate The filter used to judge whether an event task needs to be deleted or not.
     * @throws IllegalValueException Will be throw during iteration if internal error happens.
     */
    public void removeEventTasks(TaskPredicate predicate) {
        int iterator = 1;
        while (iterator < workingEventTasks.size()) {
            EventTask toBeTested;
            try {
                toBeTested = workingEventTasks.get(iterator);
                if (predicate.test(toBeTested)) {
                    removeEventTask(iterator);
                }
            } catch (IllegalValueException e) {
                ; // skip this index if this item is already deleted
            }
            iterator = iterator + 1;
        }
    }

```
###### src/main/java/seedu/address/ui/FloatingTaskListCard.java

``` java
public class FloatingTaskListCard extends UiPart<Pane> {

    private static final String FXML = "/view/FloatingTaskListCard.fxml";

    @FXML
    private Label indexLabel;

    @FXML
    private Label nameLabel;

    @FXML
    private Label priorityLabel;

    /**
     * @param floatingTask: The floating task to display. Can be null to not display anything.
     */
    public FloatingTaskListCard(FloatingTask floatingTask, int index) {
        super(FXML);
        if (floatingTask != null) {
            indexLabel.setText(TaskType.FLOAT.getPrefixString() + index + ". ");
            nameLabel.setText(floatingTask.getName().toString());
            priorityLabel.setText(floatingTask.getPriority().toString());
            if (floatingTask.isFinished()) {
                getRoot().getStyleClass().add("finished");
            } else {
                getRoot().getStyleClass().add("priority" + floatingTask.getPriority().toString());
            }
        } else {
            getRoot().setVisible(false);
        }
    }

}
```
###### src/main/java/seedu/address/ui/FloatingTaskListPane.java

``` java
public class FloatingTaskListPane extends UiPart<Pane> {

    private static final String FXML = "/view/FloatingTaskListPane.fxml";

    private final ObservableList<IndexedItem<FloatingTask>> listedFloatingTasks;
    private final FilteredList<IndexedItem<FloatingTask>> unfinishedFloatingTasks;

    @FXML
    private ListView<IndexedItem<FloatingTask>> floatingTaskListView;

    @FXML
    private Label listedFloatingTaskCounter;

    @FXML
    private Label unfinishedFloatingTaskCounter;

    public FloatingTaskListPane(ReadOnlyModel model) {
        super(FXML);

        // Initialize task lists
        listedFloatingTasks = model.getFloatingTaskList();
        unfinishedFloatingTasks = new FilteredList<>(listedFloatingTasks,
                                                     makePredicate(new TaskUnfinishedPredicate(LocalDateTime.now())));

        // Initialize Floating Task List View
        floatingTaskListView.setItems(listedFloatingTasks);
        floatingTaskListView.setCellFactory(listView -> new FloatingTaskListCell());

        // Initialize Task Counter
        listedFloatingTaskCounter.textProperty().bind(Bindings.size(this.listedFloatingTasks)
                                                        .asString("Number of Floating Task listed: %d"));
        unfinishedFloatingTaskCounter.textProperty().bind(Bindings.size(this.unfinishedFloatingTasks)
                                                            .asString("Total unfinished: %d"));
    }

```
###### src/main/java/seedu/address/ui/FloatingTaskListPane.java

``` java
    private Predicate<IndexedItem<FloatingTask>> makePredicate(TaskPredicate predicate) {
        return indexedItem -> predicate.test(indexedItem.getItem());
    }

```
###### src/main/java/seedu/address/ui/StatusBarFooter.java

``` java
    private void connectTaskCounter(ReadOnlyModel model) {
        ObservableValue<String> totalTasks = Bindings.size(model.getTaskBook().getFloatingTasks())
                                                .add(Bindings.size(model.getTaskBook().getDeadlineTasks()))
                                                .add(Bindings.size(model.getTaskBook().getEventTasks()))
                                                .asString("Total number of tasks in Task Tracker: %d");
        taskCounter.textProperty().bind(totalTasks);
    }

```
###### src/main/java/seedu/address/ui/EventTaskListPane.java

``` java
public class EventTaskListPane extends UiPart<Pane> {

    private static final String FXML = "/view/EventTaskListPane.fxml";

    private static final Logger logger = LogsCenter.getLogger(EventTaskListPane.class);

    private final ObservableList<IndexedItem<EventTask>> listedEventTasks;
    private final FilteredList<IndexedItem<EventTask>> todayEventTasks;
    private final FilteredList<IndexedItem<EventTask>> unfinishedEventTasks;

    @FXML
    private ListView<IndexedItem<EventTask>> eventTaskListView;

    @FXML
    private Label listedEventCounter;

    @FXML
    private Label todayUnfinishedEventCounter;

    @FXML
    private Label unfinishedEventCounter;

    public EventTaskListPane(ReadOnlyModel model) {
        super(FXML);

        // Initialize task lists
        listedEventTasks = model.getEventTaskList();
        todayEventTasks = new FilteredList<>(listedEventTasks);
        unfinishedEventTasks = new FilteredList<>(listedEventTasks);
        listedEventTasks.addListener((ListChangeListener.Change<? extends IndexedItem<EventTask>> c) -> {
            updatePredicatesToCurrentTime();
            logger.info("EventTask counter updated with current time.");
        });
        updatePredicatesToCurrentTime();

        // Initialize Event Task List View
        eventTaskListView.setItems(listedEventTasks);
        eventTaskListView.setCellFactory(listView -> new EventTaskListCell());

        // Initialize Task Counter
        listedEventCounter.textProperty().bind(Bindings.size(this.listedEventTasks)
                                               .asString("Number of Events listed: %d"));
        unfinishedEventCounter.textProperty().bind(Bindings.size(this.unfinishedEventTasks)
                                                   .asString("Total upcoming: %d"));
        todayUnfinishedEventCounter.textProperty().bind(Bindings.size(this.todayEventTasks)
                                                        .asString("Today upcoming: %d"));
    }

```
###### src/main/java/seedu/address/ui/EventTaskListPane.java

``` java
    private void updatePredicatesToCurrentTime() {
        final LocalDateTime now = LocalDateTime.now();
        todayEventTasks.setPredicate(makePredicate(new TaskWillHappenTodayPredicate(now)));
        unfinishedEventTasks.setPredicate(makePredicate(new TaskUnfinishedPredicate(now)));
    }

    private Predicate<IndexedItem<EventTask>> makePredicate(TaskPredicate predicate) {
        return indexedItem -> predicate.test(indexedItem.getItem());
    }

```
###### src/main/java/seedu/address/ui/DeadlineTaskListPane.java

``` java
public class DeadlineTaskListPane extends UiPart<Pane> {

    private static final String FXML = "/view/DeadlineTaskListPane.fxml";

    private static final Logger logger = LogsCenter.getLogger(DeadlineTaskListPane.class);

    private final ObservableList<IndexedItem<DeadlineTask>> listedDeadlineTasks;
    private final FilteredList<IndexedItem<DeadlineTask>> todayDeadlineTasks;
    private final FilteredList<IndexedItem<DeadlineTask>> overdueDeadlineTasks;
    private final FilteredList<IndexedItem<DeadlineTask>> unfinishedDeadlineTasks;

    @FXML
    private ListView<IndexedItem<DeadlineTask>> deadlineTaskListView;

    @FXML
    private Label listedDeadlineCounter;
    @FXML
    private Label todayUnfinishedDeadlineCounter;
    @FXML
    private Label overdueDeadlineCounter;
    @FXML
    private Label unfinishedDeadlineCounter;

    public DeadlineTaskListPane(ReadOnlyModel model) {
        super(FXML);

        // Initialize task lists
        listedDeadlineTasks = model.getDeadlineTaskList();
        todayDeadlineTasks = new FilteredList<>(listedDeadlineTasks);
        overdueDeadlineTasks = new FilteredList<>(listedDeadlineTasks);
        unfinishedDeadlineTasks = new FilteredList<>(listedDeadlineTasks);
        listedDeadlineTasks.addListener((ListChangeListener.Change<? extends IndexedItem<DeadlineTask>> c) -> {
            updatePredicatesToCurrentTime();
            logger.info("DeadlineTask counter updated with current time.");
        });
        updatePredicatesToCurrentTime();

        // Initialize Floating Task List View
        deadlineTaskListView.setItems(listedDeadlineTasks);
        deadlineTaskListView.setCellFactory(listView -> new DeadlineTaskListCell());

        // Initialize Task Counter
        listedDeadlineCounter.textProperty().bind(Bindings.size(listedDeadlineTasks)
                                                  .asString("Number of Deadlines listed: %d"));
        todayUnfinishedDeadlineCounter.textProperty().bind(Bindings.size(todayDeadlineTasks)
                                                           .asString("Today remaining: %d"));
        overdueDeadlineCounter.textProperty().bind(Bindings.size(overdueDeadlineTasks)
                                                   .asString("Overdue: %d"));
        unfinishedDeadlineCounter.textProperty().bind(Bindings.size(unfinishedDeadlineTasks)
                                                      .asString("Total unfinished: %d"));
    }

```
###### src/main/java/seedu/address/ui/DeadlineTaskListPane.java

``` java
    private void updatePredicatesToCurrentTime() {
        final LocalDateTime now = LocalDateTime.now();
        todayDeadlineTasks.setPredicate(makePredicate(new TaskWillHappenTodayPredicate(now)));
        overdueDeadlineTasks.setPredicate(makePredicate(new TaskOverduePredicate(now)));
        unfinishedDeadlineTasks.setPredicate(makePredicate(new TaskUnfinishedPredicate(now)));
    }

    private Predicate<IndexedItem<DeadlineTask>> makePredicate(TaskPredicate predicate) {
        return indexedItem -> predicate.test(indexedItem.getItem());
    }

```
###### src/main/java/seedu/address/storage/JsonTaskBookMixin.java

``` java
public abstract class JsonTaskBookMixin {
    JsonTaskBookMixin(@JsonProperty("tasks") List<Task> tasks,
                      @JsonProperty("floatingTasks") List<FloatingTask> floatingTasks,
                      @JsonProperty("eventTasks") List<EventTask> eventTasks,
                      @JsonProperty("deadlineTasks") List<DeadlineTask> deadlineTasks) {
    }
}
```
###### src/main/java/seedu/address/storage/JsonFloatingTaskMixin.java

``` java
@JsonPropertyOrder({"name", "priority", "finished"})
public abstract class JsonFloatingTaskMixin {

    JsonFloatingTaskMixin(@JsonProperty("name") Name name,
            @JsonProperty("priority") Priority priority,
            @JsonProperty("finished") boolean finished) {
    }

}
```
###### src/main/java/seedu/address/storage/JsonDeadlineTaskMixin.java

``` java
@JsonPropertyOrder({"name", "due", "finished"})
public abstract class JsonDeadlineTaskMixin {

    JsonDeadlineTaskMixin(@JsonProperty("name") Name name,
                       @JsonProperty("due") LocalDateTime due,
                       @JsonProperty("finished") boolean finished) {
    }

}
```
###### src/main/java/seedu/address/storage/JsonPriorityMixin.java

``` java
public abstract class JsonPriorityMixin {
    @JsonCreator
    JsonPriorityMixin(String priority) {}

    @JsonValue
    public abstract String toString();
}
```
